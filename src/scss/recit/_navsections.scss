
$menu-item-height:30px;
$max-width-responsive-m5: 992px;

#page-content{
    grid-area: page-content;
}

.page-content-wrapper{
    display: grid; 
    grid-template-areas: "navsections" "activitysettings" "page-content";
}

.vertical-right{
    .activitysettings {
        margin-bottom: 7px;
    }
    display: grid; 
    grid-template-columns: 80% 20%;
    grid-template-rows: auto auto;
    grid-template-areas:
        "activitysettings activitysettings"
        "page-content navsections";
}

.vertical-left{
    display: grid; 
    grid-template-columns: 20% 80%;
    grid-template-rows: auto auto;
    grid-template-areas: "activitysettings activitysettings" "navsections page-content";
}

@media screen and (max-width: 992px){
    .vertical-right{grid-template-columns: 100%; grid-template-areas: "navsections" "activitysettings" "page-content";}
    .vertical-left{grid-template-columns:  100%; grid-template-areas: "navsections" "activitysettings" "page-content";}
}

.activitysettings {
    grid-area: activitysettings;
    margin-top: 7px;
}

.navsections{
    grid-area: navsections;

    display: grid; 
    &.horizontal{
        grid-template-columns: auto;
        grid-template-rows: auto auto;

        .menuM5{            
            ul.navbar-nav{
                flex-wrap: wrap; 
                li.nav-item{text-align: center;}

                ul.dropdown-menu{
                    box-shadow: 2px 2px 2px rgba(0,0,0,0.5);
                    
                    li.dropdown-submenu{
                        ul.dropdown-menu{
                            margin-left: 0px;
                        }
                    }
                }
                li.nav-item[data-selected="1"] > a{
                    font-weight: bold; 
                    text-decoration: underline solid $tt-menu-active-color;
                }
            }
        }
    }

    &.vertical{
        grid-template-rows: auto;

        .navbar{align-items: baseline; align-content: baseline;}

        @media (min-width: $max-width-responsive-m5){
            .navbar-expand-lg{
                .navbar-nav{
                    flex-direction: column;
                    .dropdown-menu{
                        position: relative;
                    }
                }
                
            }  
        }
            
        .menuM5{
            //min-width: 10vw;
            .dropdown-submenu>.dropdown-menu{left: 0; top: 100%;}

            ul.navbar-nav{
                ul.dropdown-menu{
                    li.dropdown-submenu{
                        ul.dropdown-menu{margin-left: 1rem;}
                    }
                    li{
                        .dropdown-item{height: auto;white-space: normal;}
                    }
                }
                .nav-item[data-selected="1"]{font-weight: bold; text-decoration:underline;}            
                li.nav-item.show .dropdown-item[data-selected="1"]{font-weight: bold;text-decoration:underline;}            
            }
        }
    }   

    .menuM1{
        ul{
            li{
                a{
                    padding: .3rem;    font-size: 16px;      font-weight: 600;    text-align: center; color: $tt-menu-color-m1;
                    -webkit-hyphens: none;    -ms-hyphens: none;    hyphens: none; white-space: normal;
                    background-color: transparent; box-shadow: none;
                }
                &[data-selected="1"]:before{
                    content: ' \276F'; font-size: 20px; color: $tt-menu-active-color; font-weight: 700;            
                }
                &[data-selected="1"]{
                    a{color: $tt-menu-active-color;}
                }
            }
        }
    }

    .menuM1.normal{
        position: relative;  
        .responsive-bar{display: none;}
        ul{
            background-color: $tt-menu-bgcolor-m1;
            width: 100%; list-style: none; margin: auto; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: center; padding: 0; height: 70px;
            li{
                padding: .5rem; align-self: center; display: flex; justify-content: center; align-items: center; 
                
                button[data-btn-submenu-collapse]{display: none;}

                ul{
                    position: absolute;  top: 70px; left: 0px; background-color: $tt-menu-color-m1; display: none;
                    li[data-selected="0"]{
                        a{color: $tt-menu-inactive-color; }
                    }
                }               
                &[data-selected="1"]{
                    ul{
                        display: flex;
                    }
                }
            }
            li:empty{border-left: 1px solid $tt-menu-active-color; height: 35px; padding: 0px; margin: 0px;}
            li:last-child:empty{display: none;}
        }
    }
   
    .menuM1.responsive{
        width: 100%; 
        .responsive-bar{
            background-color: $tt-menu-bgcolor-m1; width: 100%; display: flex; justify-content: left; padding: 1rem;
            #btn-menu-collapse{width: 40px;}
            .active-item{ width: 90%; font-variant: all-petite-caps; text-align: center; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; font-weight: 500; line-height: 1.2; font-size: 22px;}
        }
        ul{
            background-color: $tt-menu-bgcolor-m1;  list-style: none;  display: none; flex-direction: column; height: auto; margin: 0px; max-width: 500px;
        
            li{
                border-bottom: .1px solid $tt-menu-active-color; width: 90%; flex-direction: column; padding: 0.5rem; margin: 0.1rem;
                button[data-btn-submenu-collapse]{display: inline; float: right;}
                ul{
                    li{border-bottom: none;}
                    li[data-selected="0"]{
                        a{color: $tt-menu-color-m1; }
                    }
                }
            }
            li:empty{display: none;}
            li:nth-last-child(2){border-bottom: none;}
        }
    }

    .menuM5{
        background-color: $tt-menu-bgcolor-m5-l1;

        .nav-item.dropdown{padding-right: 1rem;}

        .dropdown-submenu {
            position: relative;
        }
        
        .dropdown-submenu>.dropdown-menu {
            top: 0;
            left: 100%;
        }
    
        ul.navbar-nav{
            li.nav-item{
                text-align: left;
                .nav-link{color: $tt-menu-color-m5-l1;}
                .nav-link:hover{color: $tt-menu-hover-color-l1;}
            }
            ul.dropdown-menu{
                background-color: $tt-menu-bgcolor-m5-l2;
                margin: 0;
                border-radius: 0px;
                border: none;
            // box-shadow: 2px 2px 2px rgba(0,0,0,0.5);
    
                li{
                    .dropdown-item{
                        color: $tt-menu-color-m5-l2;
                        height: $menu-item-height;
                    }
                    .dropdown-item:hover{
                        color: $tt-menu-hover-color-l2;
                        background-color: transparent;
                    }
                }
    
                li.dropdown-submenu{
                    ul.dropdown-menu{
                        margin-left: 1.5rem;
                    }
                }
            }
            
            .dropdown-submenu .pull-left{
                float:none;
            }
            
            .dropdown-submenu.pull-left > .dropdown-menu{
                left:-100%;
                margin-left:10px;
                -webkit-border-radius:6px 0 15px 15px;
                -moz-border-radius:6px 0 15px 15px;
                border-radius:6px 0 15px 15px;
            }
        }
    }    

    @media screen and (max-width: $max-width-responsive-m5){
        .menuM5{
            ul.navbar-nav{
                
                li.nav-item{text-align: left !important;}
                ul.dropdown-menu{
                    box-shadow: none !important;
                    li.dropdown-submenu{
                        ul.dropdown-menu{
                            margin-left: 1rem!important;
                        }
                    }
                }
            }
        }
    }
}